{% extends "base.html" %}
{% block titulo %} Editar Perfil de {{ usuario.nome }} {% endblock %}
{% block conteudo %}
<div class="text-center">
    <h2 class="titulo-centro">Editar Perfil do Usuário</h2>
    <img src="static/img/user.png" alt="user" width="120" height="120" class="center rounded-circle mb-3">
</div>
<form id="perfilForm" action="post_editar" method="post">
    <div class="mb-3">
        <label for="nome" class="form-label">Nome:</label>
        <input type="text" class="form-control" id="nome" name="nome" value="{{ usuario.nome }}">
    </div>
    <div class="mb-3">
        <label for="data_nascimento" class="form-label">Data de Nascimento:</label>
        <input type="date" class="form-control" id="data_nascimento" name="data_nascimento" value="{{ usuario.data_nascimento }}">
    </div>
    <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input type="email" class="form-control" id="email" name="email" value="{{ usuario.email }}">
    </div>
    <div class="mb-3">
        <label for="cpf" class="form-label">CPF:</label>
        <input type="text" class="form-control" id="cpf" name="cpf" value="{{ usuario.cpf }}">
    </div>
    <div class="mb-3">
        <label for="telefone" class="form-label">Telefone:</label>
        <input type="tel" class="form-control" id="telefone" name="telefone" value="{{ usuario.telefone }}">
    </div>
    <div class="mb-3">
        <label for="endereco" class="form-label">Endereço:</label>
        <input type="text" class="form-control" id="endereco" name="endereco" value="{{ usuario.endereco }}">
    </div>
    <div class="mb-3">
        <label for="senha" class="form-label">Senha:</label>
        <input type="password" class="form-control" id="senha" name="senha" placeholder="Digite sua nova senha">
    </div>
    <div class="text-center">
        <button type="button" class="btn btn-primary" id="editarPerfil">Atualizar Perfil</button>
        <button type="submit" class="btn btn-success" id="salvarPerfil" style="display:none;">Salvar</button>
    </div>
</form>

<script>
    document.getElementById('editarPerfil').addEventListener('click', function () {
        document.getElementById('salvarPerfil').style.display = 'inline-block';
        this.style.display = 'none';
        document.querySelectorAll('#perfilForm input').forEach(input => {
            input.disabled = false;
        });
    });

    window.onload = function () {
        document.querySelectorAll('#perfilForm input').forEach(input => {
            input.disabled = true;
        });
    };

</script>
{% endblock %}
