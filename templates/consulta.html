{% extends "base.html" %}

{% block css %}
<link href="static/css/estilos.css" rel="stylesheet">
{% endblock %}

{% block titulo %} Consulta RÃ¡pida {% endblock %}

{% block conteudo %}

<div class="container py-5">
    <h2 class="text-center text-primary mb-4">ğŸ©º Consulta RÃ¡pida</h2>
    <p class="text-center text-muted mb-5">
        Marque as opÃ§Ãµes que se aplicam a vocÃª para ajudar nossa equipe a identificar melhor seus sintomas.
    </p>
    
    <form method="post" action="/post_checkup"  class="shadow p-4 rounded bg-light">
        <div class="row">
            {% for pergunta, id in [
                ("VocÃª apresentou febre nos Ãºltimos dias?", "febre"),
                ("VocÃª estÃ¡ sentindo dores de cabeÃ§a?", "dorCabeca"),
                ("VocÃª sente fadiga constante?", "fadiga"),
                ("VocÃª tem dificuldade para respirar?", "faltaAr"),
                ("VocÃª tem sentido palpitaÃ§Ãµes?", "palpitacoes"),
                ("VocÃª tem sentido tontura?", "tontura"),
                ("VocÃª perdeu o apetite recentemente?", "perdaApetite"),
                ("VocÃª tem sentido nÃ¡usea?", "nausea"),
                ("VocÃª apresentou vÃ´mito recentemente?", "vomito"),
                ("VocÃª perdeu peso sem explicaÃ§Ã£o?", "perdaPeso"),
                ("VocÃª estÃ¡ sentindo dores abdominais?", "dorAbdomen"),
                ("VocÃª tem tossido com frequÃªncia?", "tosse")
            ] %}
            <div class="col-md-6 mb-4"> 
                <label class="form-label">
                    <i class="bi bi-question-circle"></i> {{ loop.index }}. {{ pergunta }}
                </label>
                <div class="d-flex align-items-center">
                    <div class="form-check me-4"> 
                        <input class="form-check-input" type="radio" value="Sim" id="{{ id }}Sim" name="{{ id }}" required>
                        <label class="form-check-label" for="{{ id }}Sim">
                            Sim
                        </label>
                    </div>
                    <div class="form-check me-4"> 
                        <input class="form-check-input" type="radio" value="NÃ£o" id="{{ id }}Nao" name="{{ id }}" required>
                        <label class="form-check-label" for="{{ id }}Nao">
                            NÃ£o
                        </label>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="mb-4"> 
            <label for="descricaoSintomas" class="form-label">
                <i class="bi bi-pencil"></i> 13. DescriÃ§Ã£o Adicional dos Sintomas
            </label>
            <textarea class="form-control" id="descricaoSintomas" name="descricaoSintomas" rows="4" 
                      placeholder="Descreva outros sintomas aqui"></textarea>
        </div>
        
        <div class="text-center">
            <button type="submit" class="btn btn-primary btn-lg px-4">
                <i class="bi bi-send" ></i> Enviar
            </button>
        </div>
    </form>
</div>

 <<script>
    document.addEventListener("DOMContentLoaded", () => {
        const autenticado = JSON.parse("{{ autenticado|tojson }}");
        
        const form = document.querySelector("form");
        form.addEventListener("submit", (event) => {
            if (!autenticado) {
                event.preventDefault();
                alert("VocÃª precisa estar autenticado para enviar o formulÃ¡rio.");
                window.location.href = "/login"; 
            }
        });
    });
</script>


{% endblock %}
